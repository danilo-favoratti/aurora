<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora's Journey</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://open.spotify.com/embed/iframe-api/v1" async></script>
</head>
<body>
    <div id="top-menu-container">
        <span id="top-menu-title">Aurora's Journey</span>
        <button id="top-menu-toggle-button">‚ò∞ Menu</button>
        <div id="top-menu-content-wrapper">
            <div class="top-menu-section" id="top-menu-spotify-section">
                <h4>Spotify</h4>
                <div id="embed-iframe"></div>
            </div>
            <div class="top-menu-section" id="top-menu-objectives-section">
                <h4>Objectives</h4>
                <ul id="objectives-list">
                    <!-- Content will be populated by JS -->
                </ul>
            </div>
            <div class="top-menu-section" id="top-menu-main-controls-section">
                <h4>Controls</h4>
                <button id="save-pdf-button" class="action-button">Save to PDF</button>
                <div id="connection-status" class="connection-status">Connecting...</div>
            </div>
        </div>
    </div>

    <div class="main-layout-container">
        <div class="game-content-area">
            <div id="history-log" class="history-log">
                <!-- Turns will be added here dynamically -->
            </div>
            <div class="status-container">
                <!-- Button was here, now moved -->
            </div>
        </div>
    </div>

    <div id="debug-menu" class="debug-menu">
        <h3>Debug Menu (F8)</h3>
        <div class="debug-section">
            <h4>Image Generation</h4>
            <label>
                <input type="checkbox" id="debug-image-repeat-toggle">
                Repeat First Image (üñºÔ∏è)
            </label>
            <span id="debug-image-repeat-status"></span>
        </div>
    </div>

    <script>
    window.onSpotifyIframeApiReady = (IFrameAPI) => {
        const element = document.getElementById('embed-iframe');
        const options = {
            uri: 'spotify:playlist:3DaOwR7YkalXW3cLwu9Tnx',
            width: '100%',
            type: "rich",
            height: '100',
            theme: '0'
        };
        const callback = (EmbedController) => {};
        IFrameAPI.createController(element, options, callback);
    };
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html> 